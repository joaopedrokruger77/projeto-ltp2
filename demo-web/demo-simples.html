<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Sistema Ag√™ncia Turismo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        h1 { color: #333; text-align: center; }
        h2 { color: #666; border-bottom: 2px solid #ddd; padding-bottom: 5px; }
        .menu {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        button {
            padding: 10px 15px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        button:hover { background: #0056b3; }
        .section {
            display: none;
            margin: 20px 0;
        }
        .section.active { display: block; }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th { background: #f8f9fa; }
        input, select {
            width: 100%;
            padding: 5px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
        .form-row {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }
        .form-row > div {
            flex: 1;
        }
        .success {
            background: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 3px;
            margin: 10px 0;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 3px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåç Sistema Ag√™ncia de Turismo - Demo</h1>
        <p><strong>Demonstra√ß√£o do sistema Java Swing desenvolvido</strong></p>
        
        <div class="menu">
            <button onclick="showSection('clientes')">üë• Clientes</button>
            <button onclick="showSection('pacotes')">üéí Pacotes</button>
            <button onclick="showSection('contratos')">üìù Contratos</button>
            <button onclick="showSection('validacoes')">üîç Valida√ß√µes</button>
            <button onclick="showSection('info')">‚ÑπÔ∏è Info Sistema</button>
        </div>

        <!-- Se√ß√£o Clientes -->
        <div id="clientes" class="section">
            <h2>üë• Gerenciamento de Clientes</h2>
            
            <h3>Cadastrar Cliente</h3>
            <form onsubmit="cadastrarCliente(event)">
                <div class="form-row">
                    <div>
                        <label>Nome:</label>
                        <input type="text" id="nome" required>
                    </div>
                    <div>
                        <label>Email:</label>
                        <input type="email" id="email" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div>
                        <label>Tipo:</label>
                        <select id="tipo" onchange="toggleDoc()">
                            <option value="">Selecione</option>
                            <option value="Nacional">Nacional (CPF)</option>
                            <option value="Estrangeiro">Estrangeiro (Passaporte)</option>
                        </select>
                    </div>
                    <div id="docField" style="display:none;">
                        <label id="docLabel">Documento:</label>
                        <input type="text" id="documento">
                    </div>
                </div>
                
                <button type="submit">Cadastrar</button>
            </form>
            
            <div id="msgCliente"></div>
            
            <h3>Clientes Cadastrados</h3>
            <table id="tabelaClientes">
                <thead>
                    <tr><th>ID</th><th>Nome</th><th>Email</th><th>Tipo</th><th>Documento</th></tr>
                </thead>
                <tbody>
                    <tr><td>1</td><td>Jo√£o Silva</td><td>joao@email.com</td><td>Nacional</td><td>123.456.789-00</td></tr>
                    <tr><td>2</td><td>Maria Santos</td><td>maria@email.com</td><td>Nacional</td><td>987.654.321-00</td></tr>
                    <tr><td>3</td><td>John Smith</td><td>john@email.com</td><td>Estrangeiro</td><td>US1234567</td></tr>
                </tbody>
            </table>
        </div>

        <!-- Se√ß√£o Pacotes -->
        <div id="pacotes" class="section">
            <h2>üéí Pacotes de Viagem</h2>
            
            <h3>Cadastrar Pacote</h3>
            <form onsubmit="cadastrarPacote(event)">
                <div class="form-row">
                    <div>
                        <label>Nome:</label>
                        <input type="text" id="pacoteNome" required>
                    </div>
                    <div>
                        <label>Destino:</label>
                        <input type="text" id="pacoteDestino" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div>
                        <label>Pre√ßo (R$):</label>
                        <input type="number" id="pacotePreco" step="0.01" min="0" required>
                    </div>
                    <div>
                        <label>Vagas:</label>
                        <input type="number" id="pacoteVagas" min="1" required>
                    </div>
                </div>
                
                <button type="submit">Cadastrar Pacote</button>
            </form>
            
            <div id="msgPacote"></div>
            
            <h3>Pacotes Dispon√≠veis</h3>
            <table id="tabelaPacotes">
                <thead>
                    <tr><th>ID</th><th>Nome</th><th>Destino</th><th>Pre√ßo</th><th>Vagas</th></tr>
                </thead>
                <tbody>
                    <tr><td>1</td><td>Paris Rom√¢ntica</td><td>Paris, Fran√ßa</td><td>R$ 4.500,00</td><td>15</td></tr>
                    <tr><td>2</td><td>Tokyo Experience</td><td>Tokyo, Jap√£o</td><td>R$ 6.800,00</td><td>12</td></tr>
                    <tr><td>3</td><td>New York City</td><td>Nova York, EUA</td><td>R$ 5.200,00</td><td>20</td></tr>
                </tbody>
            </table>
        </div>

        <!-- Se√ß√£o Contratos -->
        <div id="contratos" class="section">
            <h2>üìù Contratos</h2>
            
            <h3>Nova Contrata√ß√£o</h3>
            <form onsubmit="criarContrato(event)">
                <div class="form-row">
                    <div>
                        <label>Cliente:</label>
                        <select id="contratoCliente" required>
                            <option value="">Selecione um cliente</option>
                        </select>
                    </div>
                    <div>
                        <label>Pacote:</label>
                        <select id="contratoPacote" required>
                            <option value="">Selecione um pacote</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div>
                        <label>Data do Contrato:</label>
                        <input type="date" id="contratoData" required>
                    </div>
                    <div>
                        <label>Observa√ß√µes:</label>
                        <input type="text" id="contratoObs" placeholder="Opcional">
                    </div>
                </div>
                
                <button type="submit">Realizar Contrata√ß√£o</button>
            </form>
            
            <div id="msgContrato"></div>
            
            <h3>Contratos Ativos</h3>
            <table id="tabelaContratos">
                <thead>
                    <tr><th>ID</th><th>Cliente</th><th>Pacote</th><th>Destino</th><th>Valor</th><th>Data</th><th>Status</th></tr>
                </thead>
                <tbody>
                    <tr><td>1</td><td>Jo√£o Silva</td><td>Paris Rom√¢ntica</td><td>Paris, Fran√ßa</td><td>R$ 4.500,00</td><td>15/06/2024</td><td>‚úÖ Ativo</td></tr>
                    <tr><td>2</td><td>Maria Santos</td><td>Tokyo Experience</td><td>Tokyo, Jap√£o</td><td>R$ 6.800,00</td><td>20/06/2024</td><td>‚úÖ Ativo</td></tr>
                </tbody>
            </table>
            
            <h3>Consultas</h3>
            <div class="form-row">
                <div>
                    <label>Buscar contratos por cliente:</label>
                    <select id="buscaClienteContrato" onchange="buscarContratosPorCliente()">
                        <option value="">Selecione um cliente</option>
                    </select>
                </div>
                <div>
                    <label>Buscar clientes por pacote:</label>
                    <select id="buscaPacoteContrato" onchange="buscarClientesPorPacote()">
                        <option value="">Selecione um pacote</option>
                    </select>
                </div>
            </div>
            
            <div id="resultadoConsulta"></div>
            
            <div class="info-box" style="margin-top: 20px;">
                <h4>üìä Estat√≠sticas</h4>
                <div id="estatisticasContratos">
                    <p><strong>Total de Contratos:</strong> <span id="totalContratos">2</span></p>
                    <p><strong>Faturamento Total:</strong> <span id="faturamentoTotal">R$ 11.300,00</span></p>
                    <p><strong>Pacote Mais Vendido:</strong> <span id="pacoteMaisVendido">Empate</span></p>
                </div>
            </div>
        </div>

        <!-- Se√ß√£o Valida√ß√µes -->
        <div id="validacoes" class="section">
            <h2>üîç Valida√ß√µes</h2>
            
            <h3>Teste de CPF</h3>
            <input type="text" id="testeCPF" placeholder="Digite um CPF" oninput="validarCPFTeste()">
            <div id="resultCPF"></div>
            
            <h3>Teste de Email</h3>
            <input type="text" id="testeEmail" placeholder="Digite um email" oninput="validarEmailTeste()">
            <div id="resultEmail"></div>
            
            <h3>Regras Implementadas</h3>
            <ul>
                <li><strong>CPF:</strong> Algoritmo oficial de valida√ß√£o</li>
                <li><strong>Email:</strong> Formato padr√£o com @</li>
                <li><strong>Pre√ßos:</strong> Devem ser positivos</li>
                <li><strong>Datas:</strong> Data fim > data in√≠cio</li>
                <li><strong>Duplica√ß√£o:</strong> N√£o permite registros iguais</li>
            </ul>
        </div>

        <!-- Se√ß√£o Info -->
        <div id="info" class="section">
            <h2>‚ÑπÔ∏è Informa√ß√µes do Sistema</h2>
            
            <h3>üèóÔ∏è Arquitetura</h3>
            <ul>
                <li><strong>Linguagem:</strong> Java 11+ com Swing</li>
                <li><strong>Banco:</strong> MySQL com JDBC</li>
                <li><strong>Padr√µes:</strong> MVC, DAO, Singleton</li>
                <li><strong>POO:</strong> Heran√ßa, Encapsulamento, Polimorfismo</li>
            </ul>
            
            <h3>üìÅ Estrutura</h3>
            <pre>
src/main/java/com/agenciaturismo/
‚îú‚îÄ‚îÄ model/ (Cliente, PacoteViagem, etc.)
‚îú‚îÄ‚îÄ dao/ (ClienteDAO, PacoteDAO, etc.)
‚îú‚îÄ‚îÄ gui/ (TelaPrincipal, TelaCadastro, etc.)
‚îî‚îÄ‚îÄ util/ (DatabaseConnection, Validadores)
            </pre>
            
            <h3>üéØ Funcionalidades</h3>
            <ul>
                <li>‚úÖ CRUD completo de clientes e pacotes</li>
                <li>‚úÖ Sistema de contratos</li>
                <li>‚úÖ Valida√ß√µes em tempo real</li>
                <li>‚úÖ Interface gr√°fica Swing</li>
                <li>‚úÖ Relat√≥rios e consultas</li>
            </ul>
        </div>
    </div>

    <script>
        let clientes = [
            { id: 1, nome: "Jo√£o Silva", email: "joao@email.com", tipo: "Nacional", documento: "123.456.789-00" },
            { id: 2, nome: "Maria Santos", email: "maria@email.com", tipo: "Nacional", documento: "987.654.321-00" },
            { id: 3, nome: "John Smith", email: "john@email.com", tipo: "Estrangeiro", documento: "US1234567" }
        ];
        let pacotes = [
            { id: 1, nome: "Paris Rom√¢ntica", destino: "Paris, Fran√ßa", preco: 4500.00, vagas: 15 },
            { id: 2, nome: "Tokyo Experience", destino: "Tokyo, Jap√£o", preco: 6800.00, vagas: 12 },
            { id: 3, nome: "New York City", destino: "Nova York, EUA", preco: 5200.00, vagas: 20 }
        ];
        let contratos = [
            { id: 1, clienteId: 1, pacoteId: 1, clienteNome: "Jo√£o Silva", pacoteNome: "Paris Rom√¢ntica", destino: "Paris, Fran√ßa", valor: 4500.00, data: "2024-06-15" },
            { id: 2, clienteId: 2, pacoteId: 2, clienteNome: "Maria Santos", pacoteNome: "Tokyo Experience", destino: "Tokyo, Jap√£o", valor: 6800.00, data: "2024-06-20" }
        ];
        let nextId = 4;
        let nextContratoId = 3;

        function showSection(sectionId) {
            // Esconder todas as se√ß√µes
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            // Mostrar se√ß√£o selecionada
            document.getElementById(sectionId).classList.add('active');
            
            // Atualizar dados espec√≠ficos da se√ß√£o
            if (sectionId === 'contratos') {
                atualizarSelectsContratos();
                atualizarEstatisticas();
            }
        }

        function toggleDoc() {
            const tipo = document.getElementById('tipo').value;
            const docField = document.getElementById('docField');
            const docLabel = document.getElementById('docLabel');
            
            if (tipo === 'Nacional') {
                docField.style.display = 'block';
                docLabel.textContent = 'CPF:';
                document.getElementById('documento').placeholder = '000.000.000-00';
            } else if (tipo === 'Estrangeiro') {
                docField.style.display = 'block';
                docLabel.textContent = 'Passaporte:';
                document.getElementById('documento').placeholder = 'AB1234567';
            } else {
                docField.style.display = 'none';
            }
        }

        function cadastrarCliente(e) {
            e.preventDefault();
            const nome = document.getElementById('nome').value;
            const email = document.getElementById('email').value;
            const tipo = document.getElementById('tipo').value;
            const documento = document.getElementById('documento').value;
            
            // Validar CPF se for nacional
            if (tipo === 'Nacional' && !validarCPF(documento)) {
                document.getElementById('msgCliente').innerHTML = '<div class="error">CPF inv√°lido!</div>';
                return;
            }
            
            // Criar novo cliente no array
            const novoCliente = {
                id: nextId,
                nome: nome,
                email: email,
                tipo: tipo,
                documento: documento
            };
            
            clientes.push(novoCliente);
            
            // Adicionar √† tabela
            const tbody = document.querySelector('#tabelaClientes tbody');
            const row = tbody.insertRow();
            row.innerHTML = `<td>${nextId}</td><td>${nome}</td><td>${email}</td><td>${tipo}</td><td>${documento}</td>`;
            
            // Atualizar selects dos contratos se existirem
            if (document.getElementById('contratoCliente')) {
                atualizarSelectsContratos();
            }
            
            document.getElementById('msgCliente').innerHTML = '<div class="success">Cliente cadastrado com sucesso!</div>';
            
            // Limpar form
            e.target.reset();
            document.getElementById('docField').style.display = 'none';
            nextId++;
            
            setTimeout(() => document.getElementById('msgCliente').innerHTML = '', 3000);
        }

        function cadastrarPacote(e) {
            e.preventDefault();
            const nome = document.getElementById('pacoteNome').value;
            const destino = document.getElementById('pacoteDestino').value;
            const preco = parseFloat(document.getElementById('pacotePreco').value);
            const vagas = parseInt(document.getElementById('pacoteVagas').value);
            
            // Criar novo pacote no array
            const novoPacote = {
                id: nextId,
                nome: nome,
                destino: destino,
                preco: preco,
                vagas: vagas
            };
            
            pacotes.push(novoPacote);
            
            // Adicionar √† tabela
            const tbody = document.querySelector('#tabelaPacotes tbody');
            const row = tbody.insertRow();
            row.innerHTML = `<td>${nextId}</td><td>${nome}</td><td>${destino}</td><td>R$ ${preco.toFixed(2)}</td><td>${vagas}</td>`;
            
            // Atualizar selects dos contratos se existirem
            if (document.getElementById('contratoPacote')) {
                atualizarSelectsContratos();
            }
            
            document.getElementById('msgPacote').innerHTML = '<div class="success">Pacote cadastrado com sucesso!</div>';
            
            // Limpar form
            e.target.reset();
            nextId++;
            
            setTimeout(() => document.getElementById('msgPacote').innerHTML = '', 3000);
        }

        function validarCPF(cpf) {
            cpf = cpf.replace(/[^\d]/g, '');
            if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) return false;
            
            let soma = 0;
            for (let i = 0; i < 9; i++) soma += parseInt(cpf.charAt(i)) * (10 - i);
            let resto = 11 - (soma % 11);
            if (resto === 10 || resto === 11) resto = 0;
            if (resto !== parseInt(cpf.charAt(9))) return false;
            
            soma = 0;
            for (let i = 0; i < 10; i++) soma += parseInt(cpf.charAt(i)) * (11 - i);
            resto = 11 - (soma % 11);
            if (resto === 10 || resto === 11) resto = 0;
            return resto === parseInt(cpf.charAt(10));
        }

        function validarCPFTeste() {
            const cpf = document.getElementById('testeCPF').value;
            const result = document.getElementById('resultCPF');
            
            if (cpf.length === 0) {
                result.innerHTML = '';
                return;
            }
            
            if (validarCPF(cpf)) {
                result.innerHTML = '<div class="success">‚úÖ CPF v√°lido!</div>';
            } else {
                result.innerHTML = '<div class="error">‚ùå CPF inv√°lido!</div>';
            }
        }

        function validarEmailTeste() {
            const email = document.getElementById('testeEmail').value;
            const result = document.getElementById('resultEmail');
            
            if (email.length === 0) {
                result.innerHTML = '';
                return;
            }
            
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (regex.test(email)) {
                result.innerHTML = '<div class="success">‚úÖ Email v√°lido!</div>';
            } else {
                result.innerHTML = '<div class="error">‚ùå Email inv√°lido!</div>';
            }
        }

        // Fun√ß√µes de Contratos
        function atualizarSelectsContratos() {
            // Atualizar select de clientes
            const selectCliente = document.getElementById('contratoCliente');
            const selectBuscaCliente = document.getElementById('buscaClienteContrato');
            selectCliente.innerHTML = '<option value="">Selecione um cliente</option>';
            selectBuscaCliente.innerHTML = '<option value="">Selecione um cliente</option>';
            
            clientes.forEach(cliente => {
                selectCliente.innerHTML += `<option value="${cliente.id}">${cliente.nome}</option>`;
                selectBuscaCliente.innerHTML += `<option value="${cliente.id}">${cliente.nome}</option>`;
            });
            
            // Atualizar select de pacotes
            const selectPacote = document.getElementById('contratoPacote');
            const selectBuscaPacote = document.getElementById('buscaPacoteContrato');
            selectPacote.innerHTML = '<option value="">Selecione um pacote</option>';
            selectBuscaPacote.innerHTML = '<option value="">Selecione um pacote</option>';
            
            pacotes.forEach(pacote => {
                selectPacote.innerHTML += `<option value="${pacote.id}">${pacote.nome} - R$ ${pacote.preco.toFixed(2)}</option>`;
                selectBuscaPacote.innerHTML += `<option value="${pacote.id}">${pacote.nome}</option>`;
            });
            
            // Definir data padr√£o como hoje
            document.getElementById('contratoData').value = new Date().toISOString().split('T')[0];
        }

        function criarContrato(e) {
            e.preventDefault();
            
            const clienteId = parseInt(document.getElementById('contratoCliente').value);
            const pacoteId = parseInt(document.getElementById('contratoPacote').value);
            const data = document.getElementById('contratoData').value;
            
            // Buscar dados do cliente e pacote
            const cliente = clientes.find(c => c.id === clienteId);
            const pacote = pacotes.find(p => p.id === pacoteId);
            
            if (!cliente || !pacote) {
                document.getElementById('msgContrato').innerHTML = '<div class="error">Erro: Cliente ou pacote n√£o encontrado!</div>';
                return;
            }
            
            // Verificar se j√° existe contrato
            const contratoExistente = contratos.find(c => c.clienteId === clienteId && c.pacoteId === pacoteId);
            if (contratoExistente) {
                document.getElementById('msgContrato').innerHTML = '<div class="error">Este cliente j√° contratou este pacote!</div>';
                return;
            }
            
            // Verificar vagas
            if (pacote.vagas <= 0) {
                document.getElementById('msgContrato').innerHTML = '<div class="error">Pacote sem vagas dispon√≠veis!</div>';
                return;
            }
            
            // Criar novo contrato
            const novoContrato = {
                id: nextContratoId++,
                clienteId: clienteId,
                pacoteId: pacoteId,
                clienteNome: cliente.nome,
                pacoteNome: pacote.nome,
                destino: pacote.destino,
                valor: pacote.preco,
                data: data
            };
            
            contratos.push(novoContrato);
            
            // Reduzir vagas do pacote
            pacote.vagas--;
            
            // Atualizar tabela
            atualizarTabelaContratos();
            atualizarEstatisticas();
            
            // Mostrar sucesso
            document.getElementById('msgContrato').innerHTML = `
                <div class="success">
                    ‚úÖ Contrato realizado com sucesso!<br>
                    Cliente: ${cliente.nome} | Pacote: ${pacote.nome} | Valor: R$ ${pacote.preco.toFixed(2)}
                </div>
            `;
            
            // Limpar formul√°rio
            e.target.reset();
            document.getElementById('contratoData').value = new Date().toISOString().split('T')[0];
            
            setTimeout(() => {
                document.getElementById('msgContrato').innerHTML = '';
            }, 5000);
        }

        function atualizarTabelaContratos() {
            const tbody = document.querySelector('#tabelaContratos tbody');
            tbody.innerHTML = '';
            
            contratos.forEach(contrato => {
                const row = tbody.insertRow();
                const dataFormatada = new Date(contrato.data).toLocaleDateString('pt-BR');
                row.innerHTML = `
                    <td>${contrato.id}</td>
                    <td>${contrato.clienteNome}</td>
                    <td>${contrato.pacoteNome}</td>
                    <td>${contrato.destino}</td>
                    <td>R$ ${contrato.valor.toFixed(2)}</td>
                    <td>${dataFormatada}</td>
                    <td>‚úÖ Ativo</td>
                `;
            });
        }

        function buscarContratosPorCliente() {
            const clienteId = parseInt(document.getElementById('buscaClienteContrato').value);
            const resultado = document.getElementById('resultadoConsulta');
            
            if (!clienteId) {
                resultado.innerHTML = '';
                return;
            }
            
            const cliente = clientes.find(c => c.id === clienteId);
            const contratosCliente = contratos.filter(c => c.clienteId === clienteId);
            
            if (contratosCliente.length === 0) {
                resultado.innerHTML = `<div class="info-box"><h4>üìã Contratos de ${cliente.nome}</h4><p>Nenhum contrato encontrado.</p></div>`;
                return;
            }
            
            let html = `<div class="info-box"><h4>üìã Contratos de ${cliente.nome}</h4><table class="table"><thead><tr><th>Pacote</th><th>Destino</th><th>Valor</th><th>Data</th></tr></thead><tbody>`;
            
            let total = 0;
            contratosCliente.forEach(contrato => {
                const dataFormatada = new Date(contrato.data).toLocaleDateString('pt-BR');
                html += `<tr><td>${contrato.pacoteNome}</td><td>${contrato.destino}</td><td>R$ ${contrato.valor.toFixed(2)}</td><td>${dataFormatada}</td></tr>`;
                total += contrato.valor;
            });
            
            html += `</tbody></table><p><strong>Total investido:</strong> R$ ${total.toFixed(2)}</p></div>`;
            resultado.innerHTML = html;
        }

        function buscarClientesPorPacote() {
            const pacoteId = parseInt(document.getElementById('buscaPacoteContrato').value);
            const resultado = document.getElementById('resultadoConsulta');
            
            if (!pacoteId) {
                resultado.innerHTML = '';
                return;
            }
            
            const pacote = pacotes.find(p => p.id === pacoteId);
            const contratosPacote = contratos.filter(c => c.pacoteId === pacoteId);
            
            if (contratosPacote.length === 0) {
                resultado.innerHTML = `<div class="info-box"><h4>üë• Clientes do pacote ${pacote.nome}</h4><p>Nenhum cliente contratou este pacote ainda.</p></div>`;
                return;
            }
            
            let html = `<div class="info-box"><h4>üë• Clientes do pacote ${pacote.nome}</h4><table class="table"><thead><tr><th>Cliente</th><th>Tipo</th><th>Email</th><th>Data Contrato</th></tr></thead><tbody>`;
            
            contratosPacote.forEach(contrato => {
                const cliente = clientes.find(c => c.id === contrato.clienteId);
                const dataFormatada = new Date(contrato.data).toLocaleDateString('pt-BR');
                html += `<tr><td>${cliente.nome}</td><td>${cliente.tipo}</td><td>${cliente.email}</td><td>${dataFormatada}</td></tr>`;
            });
            
            html += `</tbody></table><p><strong>Total de clientes:</strong> ${contratosPacote.length} | <strong>Vagas restantes:</strong> ${pacote.vagas}</p></div>`;
            resultado.innerHTML = html;
        }

        function atualizarEstatisticas() {
            // Total de contratos
            document.getElementById('totalContratos').textContent = contratos.length;
            
            // Faturamento total
            const faturamentoTotal = contratos.reduce((total, contrato) => total + contrato.valor, 0);
            document.getElementById('faturamentoTotal').textContent = `R$ ${faturamentoTotal.toFixed(2)}`;
            
            // Pacote mais vendido
            const vendas = {};
            contratos.forEach(contrato => {
                vendas[contrato.pacoteNome] = (vendas[contrato.pacoteNome] || 0) + 1;
            });
            
            let pacoteMaisVendido = 'Nenhum';
            let maxVendas = 0;
            for (const [pacote, quantidade] of Object.entries(vendas)) {
                if (quantidade > maxVendas) {
                    maxVendas = quantidade;
                    pacoteMaisVendido = `${pacote} (${quantidade} vendas)`;
                }
            }
            
            document.getElementById('pacoteMaisVendido').textContent = pacoteMaisVendido;
        }

        // Mostrar primeira se√ß√£o por padr√£o
        showSection('clientes');
    </script>
</body>
</html> 